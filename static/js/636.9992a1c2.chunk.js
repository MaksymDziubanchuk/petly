"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[636],{1086:function(e,t,a){a.d(t,{X:function(){return c}});var n=a(8277),s="empty-pets-list_emptyPetsList_box__olodG",o="empty-pets-list_emptyPetsList_img__7Y3IF",r="empty-pets-list_emptyPetsList_text__wlcVE",i=a(3329);function c(e){var t=e.text;return(0,i.jsxs)("div",{className:s,children:[(0,i.jsx)("img",{className:o,src:n.Z,alt:"cat"}),(0,i.jsx)("p",{className:r,children:t})]})}},6107:function(e,t,a){a.d(t,{Z:function(){return r}});var n="loader_loading__modal__8AohZ",s=a(8966),o=a(3329),r=function(){return(0,o.jsx)("div",{className:n,children:(0,o.jsx)(s.ne,{height:"100",width:"100",color:"#F59256",ariaLabel:"hearts-loading",wrapperStyle:{},wrapperClass:"",visible:!0})})}},3636:function(e,t,a){a.r(t),a.d(t,{default:function(){return xe}});var n=a(2791),s=a(5830),o=a(9439),r=a(3220),i=a(9434),c=a(4632),d=a(3263),l=a(5264),u=(a(7621),a(9557)),m=a(9230),_=a(3329),p="https://backend-team-project-pet-support.onrender.com";function x(){var e=(0,i.I0)(),t=(0,i.v9)((function(e){return e.auth.user})),a=(0,i.v9)((function(e){return e.auth.token})),d=(0,n.useState)(""),x=(0,o.Z)(d,2),h=x[0],f=x[1],b=(0,n.useState)(""),g=(0,o.Z)(b,2),v=g[0],j=g[1],P=(0,n.useState)(""),Z=(0,o.Z)(P,2),y=Z[0],N=Z[1],D=(0,n.useState)(""),U=(0,o.Z)(D,2),w=U[0],F=U[1],k=(0,n.useState)(""),A=(0,o.Z)(k,2),S=A[0],L=A[1],C=new Date,I=(0,m.$G)().t,T=function(e){var t=new Date(e);return"".concat(t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()+1,".").concat(t.getDate()<10?"0".concat(t.getDate()):t.getDate(),".").concat(t.getFullYear())};(0,n.useEffect)((function(){void 0===a?(f(t.name),j(t.email),N(void 0!==t.birthday?T(t.birthday):"00.00.0000"),F(t.phone),L(t.city)):fetch("".concat(p,"/api/users/current"),{method:"GET",headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){return e.json()})).then((function(e){f(e.name),j(e.email),N(void 0!==e.birthday?T(e.birthday):"00.00.0000"),F(e.phone),L(e.city)})).catch((function(e){l.Notify.failure("".concat(e.message))}))}),[t,a]);var E=function(e){switch(e.currentTarget.name){case"name":f(e.currentTarget.value);break;case"phone":F(e.currentTarget.value);break;case"city":L(e.currentTarget.value);break;default:return}},M=(0,n.useState)(""),z=(0,o.Z)(M,2),R=z[0],O=z[1],B=function(e){if(R===e)return O("");O(e)},q=function(e){return R===e?(0,_.jsx)(r.Z,{id:"icon-done"}):(0,_.jsx)(r.Z,{id:"icon-edit-active"})};return(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("div",{className:s.Z.userDataForm_box,children:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("form",{onSubmit:function(t){t.preventDefault();var a=t.currentTarget.elements.name;if(a.disabled)return a.value?e(c.ZP.updateUser({name:a.value})):l.Notify.failure(I("UserPage.error.required"),{timeout:5e3,distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0})},children:(0,_.jsxs)("div",{className:s.Z.field_box,children:[(0,_.jsxs)("label",{className:s.Z.userDataForm_label,children:[I("UserPage.info.card.name"),":"]}),R&&"name"===R?(0,_.jsx)("input",{onChange:E,type:"name",name:"name",value:h,className:s.Z.userDataForm_field_active}):(0,_.jsx)("input",{onChange:E,type:"name",name:"name",value:h,disabled:!0,className:s.Z.userDataForm_field}),(0,_.jsx)("button",{className:s.Z.iconEdit_btn,onClick:function(){return B("name")},type:"submit",children:R?q("name"):(0,_.jsx)(r.Z,{id:"icon-edit"})})]})}),(0,_.jsx)("form",{children:(0,_.jsxs)("div",{className:"".concat(s.Z.field_box_email," ").concat(s.Z.field_box),children:[(0,_.jsxs)("label",{className:s.Z.userDataForm_label,children:[I("UserPage.info.card.email"),":"]}),(0,_.jsx)("input",{type:"email",name:"email",value:v,disabled:!0,className:s.Z.userDataForm_field}),(0,_.jsx)("button",{className:s.Z.iconEdit_btn,style:{pointerEvents:"none"},children:(0,_.jsx)(r.Z,{id:"icon-email"})})]})}),(0,_.jsx)("form",{onSubmit:function(t){t.preventDefault();var a=t.currentTarget.elements.birthday;if(a.disabled)return a.value?e(c.ZP.updateUser({birthday:a.value})):l.Notify.failure(I("UserPage.error.required"),{timeout:5e3,distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0})},children:(0,_.jsxs)("div",{className:s.Z.field_box,children:[(0,_.jsxs)("label",{className:s.Z.userDataForm_label,children:[I("UserPage.info.card.birthday"),":"]}),R&&"birthday"===R?(0,_.jsx)(u.Z,{options:{dateFormat:"m.d.Y",maxDate:"".concat(T(C))},onChange:function(e){var t=(0,o.Z)(e,1)[0];N(T(t))},name:"birthday",value:y,style:{cursor:"auto"},className:s.Z.userDataForm_field_active}):(0,_.jsx)(u.Z,{name:"birthday",value:y,disabled:!0,style:{cursor:"auto"},className:s.Z.userDataForm_field}),(0,_.jsx)("button",{className:s.Z.iconEdit_btn,onClick:function(){return B("birthday")},children:R?q("birthday"):(0,_.jsx)(r.Z,{id:"icon-edit"})})]})}),(0,_.jsx)("form",{onSubmit:function(t){t.preventDefault();var a=t.currentTarget.elements.phone;if(a.disabled)return a.value?12!==a.value.length?l.Notify.failure(I("UserPage.error.numberFormat"),{timeout:5e3,distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0}):/^3?[\s]?8?[\s]?\(?0\d{2}?\)?[\s]?\d{3}[\s|-]?\d{2}[\s|-]?\d{2}$/.test(a.value)?e(c.ZP.updateUser({phone:a.value})):l.Notify.failure(I("UserPage.error.numberFormat"),{timeout:5e3,distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0}):l.Notify.failure(I("UserPage.error.required"),{timeout:5e3,distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0})},children:(0,_.jsxs)("div",{className:s.Z.field_box,children:[(0,_.jsxs)("label",{className:s.Z.userDataForm_label,children:[I("UserPage.info.card.phone"),":"]}),R&&"phone"===R?(0,_.jsx)("input",{onChange:E,type:"tel",name:"phone",value:w,className:s.Z.userDataForm_field_active}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("span",{className:s.Z.inputNumber}),(0,_.jsx)("input",{onChange:E,type:"tel",name:"phone",value:w,disabled:!0,className:"".concat(s.Z.userDataForm_field," ").concat(s.Z.userDataForm_number)})]}),(0,_.jsx)("button",{className:s.Z.iconEdit_btn,onClick:function(){return B("phone")},type:"submit",children:R?q("phone"):(0,_.jsx)(r.Z,{id:"icon-edit"})})]})}),(0,_.jsx)("form",{onSubmit:function(t){t.preventDefault();var a=t.currentTarget.elements.city;if(a.disabled)return a.value?/^[aA-zZ]/.test(a.value)?e(c.ZP.updateUser({city:a.value})):l.Notify.failure(I("UserPage.error.onlyLetters"),{timeout:5e3,distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0}):l.Notify.failure(I("UserPage.error.required"),{timeout:5e3,distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0})},children:(0,_.jsxs)("div",{className:s.Z.field_box,children:[(0,_.jsxs)("label",{className:s.Z.userDataForm_label,children:[I("UserPage.info.card.city"),":"]}),R&&"city"===R?(0,_.jsx)("input",{onChange:E,type:"text",name:"city",value:S,className:s.Z.userDataForm_field_active}):(0,_.jsx)("input",{onChange:E,type:"text",name:"city",value:S,disabled:!0,className:s.Z.userDataForm_field}),(0,_.jsx)("button",{className:s.Z.iconEdit_btn,onClick:function(){return B("city")},children:R?q("city"):(0,_.jsx)(r.Z,{id:"icon-edit"})})]})})]})})})}d.Z.defaults.baseURL="".concat(p,"/api");var h=a(5861),f=a(4687),b=a.n(f),g=a(1087),v=a(8966);function j(){var e=(0,i.v9)((function(e){return e.auth.user})),t=((0,i.v9)((function(e){return e.auth.token})),(0,i.I0)()),a=(0,n.useState)(!1),d=(0,o.Z)(a,2),u=d[0],p=d[1],x=(0,g.lr)(),f=((0,o.Z)(x,1)[0].get("token"),(0,m.$G)().t);return(0,_.jsxs)(_.Fragment,{children:[u&&(0,_.jsx)("div",{className:s.Z.loader_oval_avatar,children:(0,_.jsx)(v.iT,{height:40,width:40,color:"#F59256",wrapperStyle:{},wrapperClass:s.Z.loaderAvatar,visible:!0,ariaLabel:"oval-loading",secondaryColor:"#F59256",strokeWidth:4,strokeWidthSecondary:2})}),(0,_.jsxs)("div",{className:s.Z.userItem_box_yourPhoto,children:[(0,_.jsx)("img",{className:s.Z.userItem__yourPhoto,src:e.avatar?e.avatar:"https://dummyimage.com/150x150/FDF7F2.gif&text=Add+your+photo!",alt:""}),(0,_.jsxs)("div",{className:s.Z.userItem_box_btnPhoto,children:[(0,_.jsx)("input",{className:s.Z.userItem_input_edit_photo,type:"file",name:"file",accept:"image/png, image/jpeg, image/jpg, image/webp",id:"file",onChange:function(e){var a=new FileReader,n=e.target.files[0];(null===n||void 0===n?void 0:n.size)>5242880?l.Notify.warning(f("UserPage.modalAddPet.bigSizeImage"),{timeout:5e3,distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0}):(p(!0),a.onloadend=(0,h.Z)(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(c.ZP.updateUserAvatar(n));case 2:p(!1);case 3:case"end":return e.stop()}}),e)}))),a.readAsDataURL(n))}}),(0,_.jsxs)("label",{htmlFor:"file",className:s.Z.userItem_edit_photo,children:[(0,_.jsx)(r.Z,{id:"icon-edit-avatar"}),f("UserPage.info.btn.editPhoto")]})]})]})]})}function P(){return(0,_.jsxs)("div",{className:s.Z.userItem_container,children:[(0,_.jsx)(j,{}),(0,_.jsx)(x,{})]})}function Z(){return(0,_.jsx)(P,{})}d.Z.defaults.baseURL="".concat("https://backend-team-project-pet-support.onrender.com","/api");var y="logout_logout_button__+D532",N="logout_logout_box__J-pf9",D="logout_logout_text__M3+5u",U=a(1328);function w(){var e=(0,i.I0)(),t=(0,m.$G)().t;return(0,_.jsx)("div",{className:N,children:(0,_.jsxs)("button",{className:y,onClick:function(){U.Confirm.show("",t("UserPage.logoutModal.question"),t("UserPage.logoutModal.yes"),t("UserPage.logoutModal.no"),(function(){e(c.ZP.logout())}),(function(){}),{messageFontSize:"20px",borderRadius:"8px",cssAnimationStyle:"zoom",okButtonColor:"#ffffff",okButtonBackground:"#eebb9c",cancelButtonColor:"#ffffff",cancelButtonBackground:"#F59256"})},children:[(0,_.jsx)(r.Z,{id:"icon-logout"}),(0,_.jsx)("p",{className:D,children:t("UserPage.info.btn.logout")})]})})}var F=a(3205),k=a(543),A=a(6107),S="modal-add-pet-pages_button__primary_not_main__ypj+S",L="modal-add-pet-pages_button__primary_main__6UTLB",C="modal-add-pet-pages_modalAdds_page__kFD-P",I="modal-add-pet-pages_modalAdds_page__close__-OWMm",T="modal-add-pet-pages_modalAdds_page__tittle__4VovM",E="modal-add-pet-pages_modalAdds_page__input__tw8e9",M="modal-add-pet-pages_modalAdds_page__label__XtbYI",z="modal-add-pet-pages_modalAdds_page__button__7tqZx",R="modal-add-pet-pages_addspet__imgInput__4dH5p",O="modal-add-pet-pages_addspet__imgLabel__qsG+d",B="modal-add-pet-pages_add__pet__container__xobGG",q="modal-add-pet-pages_addspetPhoto__container__ddf3R",G="modal-add-pet-pages_addspet__photo__D4mvs",Y="modal-add-pet-pages_modalAdds_page__field__aCNSS",V="modal-add-pet-pages_modalAdds_page_box__K2BZF",$="modal-add-pet-pages_modalAdds_commit_box__W6XU2",H="modal-add-pet-pages_modalAdds_commit__DKD3W",W="modal-add-pet-pages_addPet__button__RnKuE";d.Z.defaults.baseURL="".concat("https://backend-team-project-pet-support.onrender.com","/api");var K=function(e){var t=e.close,a=e._id,s=(0,m.$G)().t,c=(0,n.useState)(!0),p=(0,o.Z)(c,2),x=p[0],f=p[1],g=(0,i.v9)((function(e){return e.user.loading})),v=(0,i.v9)((function(e){return e.user.pets})).find((function(e){return e._id===a})),j=v.birthday,P=new Date(j),Z=P.getMonth()+1,y=P.getDate(),N=P.getFullYear(),D="".concat(Z,".").concat(y,".").concat(N),U=(0,n.useState)(v.name),w=(0,o.Z)(U,2),F=w[0],k=w[1],K=(0,n.useState)(D),X=(0,o.Z)(K,2),J=X[0],Q=X[1],ee=(0,n.useState)(v.breed),te=(0,o.Z)(ee,2),ae=te[0],ne=te[1],se=(0,n.useState)(v.image),oe=(0,o.Z)(se,2),re=oe[0],ie=oe[1],ce=(0,n.useState)(v.comments),de=(0,o.Z)(ce,2),le=de[0],ue=de[1],me=(0,n.useState)(!1),_e=(0,o.Z)(me,2),pe=_e[0],xe=_e[1],he=function(e){switch(e.currentTarget.name){case"name":k(e.currentTarget.value);break;case"date":Q(e.currentTarget.value);break;case"breed":ne(e.currentTarget.value);break;default:return}},fe=function(){return f(!x)},be=new Date,ge=function(e){var t=new Date(e);return"".concat(t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()+1,".").concat(t.getDate()<10?"0".concat(t.getDate()):t.getDate(),".").concat(t.getFullYear())},ve=function(){var e=(0,h.Z)(b().mark((function e(n){var s,o,r,i,c;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),s=n.currentTarget,o=s.elements,r=o.image,i=o.comments,ue(i.value),!(r.files.length>0)){e.next=22;break}return(c=new FormData).append("name",F),c.append("birthday",J),c.append("breed",ae),c.append("comments",le),c.append("image",r.files[0]),e.prev=11,e.next=14,d.Z.put("/users/".concat(a),c);case 14:xe(!1),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(11),xe(!1);case 20:e.next=31;break;case 22:return e.prev=22,e.next=25,d.Z.put("/users/".concat(a),{name:F,birthday:J,breed:ae,comments:le});case 25:xe(!1),e.next=31;break;case 28:e.prev=28,e.t1=e.catch(22),xe(!1);case 31:return ue(""),ne(""),Q(""),k(""),ie(null),s.reset(),e.abrupt("return",t());case 38:case"end":return e.stop()}}),e,null,[[11,17],[22,28]])})));return function(t){return e.apply(this,arguments)}}();return(0,_.jsxs)(_.Fragment,{children:[g&&(0,_.jsx)(A.Z,{}),(0,_.jsxs)("div",{className:C,children:[(0,_.jsx)("div",{className:I,onClick:t,children:(0,_.jsx)(r.Z,{id:"icon-close"})}),(0,_.jsx)("h3",{className:T,children:s("UserPage.modalAddPet.title.editePet")}),x&&(0,_.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements,a=t.name,n=t.date,o=t.breed;return k(a.value),Q(n.value),ne(o.value),new Date(J)>=new Date(ge)?l.Notify.failure(s("UserPage.modalAddPet.dateFalse"),{distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0}):fe()},children:[(0,_.jsx)("label",{className:"".concat(M," ").concat(V),children:s("UserPage.modalAddPet.title.name")}),(0,_.jsx)("input",{className:E,name:"name",placeholder:s("UserPage.modalAddPet.ph.name"),type:"text",value:F,onChange:he}),(0,_.jsx)("label",{className:"".concat(M," ").concat(V),children:s("UserPage.modalAddPet.title.birth")}),(0,_.jsx)(u.Z,{className:E,name:"date",type:"text",placeholder:s("UserPage.modalAddPet.ph.birth"),value:J,options:{dateFormat:"m.d.Y",maxDate:"".concat(ge(be))},onChange:function(e){var t=(0,o.Z)(e,1)[0];Q(ge(t))}}),(0,_.jsx)("label",{className:"".concat(M," ").concat(V),children:s("UserPage.modalAddPet.title.breed")}),(0,_.jsx)("input",{className:E,type:"text",name:"breed",placeholder:s("UserPage.modalAddPet.ph.breed"),value:ae,onChange:he}),(0,_.jsxs)("div",{className:W,children:[(0,_.jsx)("button",{className:"".concat(L," ").concat(z),type:"submit",children:s("UserPage.modalAddPet.btn.next")}),(0,_.jsx)("span",{className:"".concat(S," ").concat(z),onClick:t,children:s("UserPage.modalAddPet.btn.cancel")})]})]}),!x&&(0,_.jsx)("form",{action:"",id:"book-add-form",encType:"multipart/form-data",onSubmit:ve,children:(0,_.jsxs)("div",{className:B,children:[(0,_.jsx)("p",{className:Y,children:s("UserPage.modalAddPet.title.loadImage")}),(0,_.jsx)("input",{className:R,type:"file",name:"image",accept:"image/png, image/jpeg, image/jpg, image/webp",id:"img",title:"is required",multiple:!0,onChange:function(e){var t=new FileReader,a=e.target.files[0];if((null===a||void 0===a?void 0:a.size)>5242880)return l.Notify.warning(s("UserPage.modalAddPet.bigSizeImage"),{timeout:6e3,distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0}),void ie(null);t.onloadend=function(){ie(t.result)},t.readAsDataURL(a)}}),(0,_.jsx)("label",{className:O,htmlFor:"img",children:(0,_.jsx)("div",{className:q,children:(0,_.jsx)("img",{src:re,alt:"pet",className:G})})}),(0,_.jsx)("label",{className:"".concat(M," ").concat($),children:s("UserPage.modalAddPet.title.comments")}),(0,_.jsx)("textarea",{className:H,type:"text",name:"comments",placeholder:s("UserPage.modalAddPet.ph.comment"),defaultValue:le,minLength:8}),(0,_.jsxs)("div",{className:W,children:[(0,_.jsx)("button",{className:"".concat(L," ").concat(z),type:"submit",disabled:pe,children:s("UserPage.modalAddPet.btn.done")}),(0,_.jsx)("span",{className:"".concat(S," ").concat(z),onClick:fe,children:s("UserPage.modalAddPet.btn.back")})]})]})})]})]})},X="modaladdspet_modal__-styr",J="modaladdspet_modal__section__Su0Hj",Q=a(4164),ee=document.querySelector("#modal-root"),te=function(e){var t=e.onClose,a=e.children;(0,n.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[t]);return a=n.cloneElement(a,{close:t}),(0,Q.createPortal)((0,_.jsx)("div",{className:X,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,_.jsx)("div",{className:J,children:a})}),ee)};function ae(){var e=(0,i.I0)(),t=(0,n.useState)(!1),a=(0,o.Z)(t,2),s=a[0],c=a[1],d=(0,n.useState)(null),l=(0,o.Z)(d,2),u=l[0],p=l[1],x=(0,n.useState)(null),h=(0,o.Z)(x,2),f=h[0],b=h[1],g=(0,n.useState)(null),v=(0,o.Z)(g,2),j=v[0],P=v[1],Z=(0,i.v9)((function(e){return e.user.loading})),y=(0,m.$G)().t;(0,n.useEffect)((function(){e(k.Z.getUserPet())}),[e]);var N=(0,i.v9)((function(e){return e.user.pets})),D=function(){c(!1),document.body.style.overflow="visible",e(k.Z.getUserPet())},w=Array.isArray(N)&&N.map((function(t){var a,n=t.name,o=t.birthday,i=t.breed,d=t.image,l=t.comments,m=t._id;return(0,_.jsxs)("li",{className:F.Z.petsList_box,children:[Z&&(0,_.jsx)(A.Z,{}),(0,_.jsx)("img",{className:F.Z.petsList_photo,src:d,alt:""}),(0,_.jsxs)("div",{className:F.Z.petsList_text_box,children:[(0,_.jsxs)("p",{className:F.Z.petsList_field,children:[(0,_.jsxs)("span",{className:F.Z.labelPets,children:[y("UserPage.pets.card.name"),":"]}),n]}),(0,_.jsxs)("p",{className:F.Z.petsList_field,children:[(0,_.jsxs)("span",{className:F.Z.labelPets,children:[y("UserPage.pets.card.birthday"),":"]}),(a=o,a.slice(0,10).split("-").reverse().join("."))]}),(0,_.jsxs)("p",{className:F.Z.petsList_field,children:[(0,_.jsxs)("span",{className:F.Z.labelPets,children:[y("UserPage.pets.card.breed"),":"]}),i," "]}),(0,_.jsxs)("p",{className:F.Z.petsList_field,children:[(0,_.jsxs)("span",{className:F.Z.labelPets,children:[y("UserPage.pets.card.comments"),":"]}),l," "]}),(0,_.jsx)("button",{className:F.Z.petsList_button,onClick:function(){return function(t){U.Confirm.show("","Are you sure you want to delete your petcard?","Yes","No",(function(){e(k.Z.deletePet(t)).then((function(){e(k.Z.getUserPet())}))}),(function(){}),{messageFontSize:"20px",borderRadius:"8px",cssAnimationStyle:"zoom",okButtonColor:"#ffffff",okButtonBackground:"#eebb9c",cancelButtonColor:"#ffffff",cancelButtonBackground:"#F59256"})}(m)},type:"button",onMouseEnter:function(){return b(m)},onMouseLeave:function(){return b(null)},children:(0,_.jsx)(r.Z,{className:F.Z.icon_delete,id:m===f?"icon-delete":"icon-deletepet"})}),(0,_.jsx)("button",{className:F.Z.iconEdit_btn,onClick:function(){P(m),c(!0),document.body.style.overflow="hidden"},onMouseEnter:function(){return p(m)},onMouseLeave:function(){return p(null)},children:(0,_.jsx)(r.Z,{id:m===u?"icon-edit-pet":"icon-edit-pet-active"})}),(0,_.jsx)("div",{children:s&&(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(te,{onClose:D,children:(0,_.jsx)(K,{_id:j})})})})]})]},m)}));return(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("ol",{className:F.Z.petList_container,children:w})})}var ne=a(1086),se=function(e){var t=e.close,a=(0,n.useState)(!0),s=(0,o.Z)(a,2),c=s[0],d=s[1],p=(0,n.useState)(""),x=(0,o.Z)(p,2),h=x[0],f=x[1],b=(0,n.useState)(""),g=(0,o.Z)(b,2),v=g[0],j=g[1],P=(0,n.useState)(""),Z=(0,o.Z)(P,2),y=Z[0],N=Z[1],D=(0,n.useState)(null),U=(0,o.Z)(D,2),w=U[0],F=U[1],K=(0,i.v9)((function(e){return e.user.loading})),X=(0,i.I0)(),J=(0,m.$G)().t,Q=function(e){switch(e.currentTarget.name){case"name":f(e.currentTarget.value);break;case"breed":N(e.currentTarget.value);break;default:return}},ee=function(){return d(!c)},te=new Date,ae=function(e){var t=new Date(e);return"".concat(t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()+1,".").concat(t.getDate()<10?"0".concat(t.getDate()):t.getDate(),".").concat(t.getFullYear())};return(0,_.jsxs)(_.Fragment,{children:[K&&(0,_.jsx)(A.Z,{}),(0,_.jsxs)("div",{className:C,children:[(0,_.jsx)("div",{className:I,onClick:t,children:(0,_.jsx)(r.Z,{id:"icon-close"})}),(0,_.jsx)("h3",{className:T,children:J("UserPage.modalAddPet.title.addPet")}),c&&(0,_.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements,a=t.name,n=t.date,s=t.breed;return f(a.value),j(n.value),N(s.value),ee()},children:[(0,_.jsx)("label",{className:"".concat(M," ").concat(V),children:J("UserPage.modalAddPet.title.name")}),(0,_.jsx)("input",{className:E,name:"name",placeholder:J("UserPage.modalAddPet.ph.name"),type:"text",required:!0,value:h,onChange:Q}),(0,_.jsx)("label",{className:"".concat(M," ").concat(V),children:J("UserPage.modalAddPet.title.birth")}),(0,_.jsx)(u.Z,{className:E,name:"date",type:"text",placeholder:J("UserPage.modalAddPet.ph.birth"),required:!0,value:v,options:{dateFormat:"m.d.Y",maxDate:"".concat(ae(te))},onChange:function(e){var t=(0,o.Z)(e,1)[0];j(ae(t))}}),(0,_.jsx)("label",{className:"".concat(M," ").concat(V),children:J("UserPage.modalAddPet.title.breed")}),(0,_.jsx)("input",{className:E,type:"text",name:"breed",placeholder:J("UserPage.modalAddPet.ph.breed"),required:!0,value:y,onChange:Q}),(0,_.jsxs)("div",{className:W,children:[(0,_.jsx)("button",{className:"".concat(L," ").concat(z),type:"submit",children:J("UserPage.modalAddPet.btn.next")}),(0,_.jsx)("span",{className:"".concat(S," ").concat(z),onClick:t,children:J("UserPage.modalAddPet.btn.cancel")})]})]}),!c&&(0,_.jsx)("form",{action:"",id:"book-add-form",encType:"multipart/form-data",onSubmit:function(e){e.preventDefault();var a=e.currentTarget,n=a.elements,s=n.image,o=n.comments,r=new FormData;return r.append("name",h),r.append("birthday",v),r.append("breed",y),r.append("comments",o.value),r.append("image",s.files[0]),N(""),j(""),f(""),F(null),X(k.Z.addPet(r)),a.reset(),t()},children:(0,_.jsxs)("div",{className:B,children:[(0,_.jsx)("p",{className:Y,children:J("UserPage.modalAddPet.title.loadImage")}),(0,_.jsx)("input",{className:R,type:"file",name:"image",accept:"image/png, image/jpeg, image/jpg, image/webp",id:"img",required:!0,title:"is required",multiple:!0,onChange:function(e){var t=new FileReader,a=e.target.files[0];if((null===a||void 0===a?void 0:a.size)>5242880)return l.Notify.warning(J("UserPage.modalAddPet.bigSizeImage"),{timeout:6e3,distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0}),void F(null);t.onloadend=function(){F(t.result)},t.readAsDataURL(a)}}),(0,_.jsx)("label",{className:O,htmlFor:"img",children:w&&(0,_.jsx)("div",{className:q,children:(0,_.jsx)("img",{src:w,alt:"pet",className:G})})}),(0,_.jsx)("label",{className:"".concat(M," ").concat($),children:J("UserPage.modalAddPet.title.comments")}),(0,_.jsx)("textarea",{className:H,type:"text",name:"comments",placeholder:J("UserPage.modalAddPet.ph.comment"),minLength:8,required:!0}),(0,_.jsxs)("div",{className:W,children:[(0,_.jsx)("button",{className:"".concat(L," ").concat(z),type:"submit",onClick:function(){w||l.Notify.failure(J("UserPage.modalAddPet.imageFalse"),{distance:"100px",opacity:"0.8",useIcon:!1,fontSize:"18px",borderRadius:"20px",showOnlyTheLastOne:!0})},children:J("UserPage.modalAddPet.btn.done")}),(0,_.jsx)("span",{className:"".concat(S," ").concat(z),onClick:ee,children:J("UserPage.modalAddPet.btn.back")})]})]})})]})]})},oe=a(2986);var re=function(){var e=(0,n.useState)(!1),t=(0,o.Z)(e,2),a=t[0],s=t[1],c=(0,i.I0)(),d=(0,m.$G)().t;(0,n.useEffect)((function(){c(k.Z.getUserPet())}),[c]);var l=(0,i.v9)((function(e){return e.user.pets})),u=(0,i.v9)((function(e){return e.user.loading}));return(0,_.jsxs)(_.Fragment,{children:[u&&(0,_.jsx)(A.Z,{}),(0,_.jsxs)("div",{className:oe.Z.petsData_title_box,children:[(0,_.jsxs)("h2",{className:oe.Z.petsData_title,children:[d("UserPage.pets.title"),":"]}),(0,_.jsx)("div",{className:oe.Z.addPetModal_buttonBox,children:(0,_.jsxs)("button",{className:oe.Z.addPetModal_button,type:"button",onClick:function(){s(!0),document.body.style.overflow="hidden"},children:[d("UserPage.pets.btn.addPet")," ",(0,_.jsx)(r.Z,{className:oe.Z.iconAddPet,id:"icon-add-pet"})]})})]}),(0,_.jsxs)("div",{className:oe.Z.petsData__container,children:[a&&(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(te,{onClose:function(){s(!1),document.body.style.overflow="visible"},children:(0,_.jsx)(se,{})})}),(0,_.jsx)("div",{className:oe.Z.overflow,children:0===l.length?(0,_.jsx)(ne.X,{text:"You haven`t added any animals to your list yet"}):(0,_.jsx)(ae,{})})]})]})},ie="delete-account_delete_account_button__hYzSV",ce="delete-account_delete_account_box__Knbbz",de="delete-account_delete_account_text__oyhe0",le="https://backend-team-project-pet-support.onrender.com",ue="https://petly-project.vercel.app/";function me(){var e=(0,i.I0)(),t=(0,i.v9)((function(e){return e.auth.token})),a=(0,m.$G)().t;return(0,_.jsx)("div",{className:ce,children:(0,_.jsxs)("button",{className:ie,onClick:function(){U.Confirm.show("",a("UserPage.deleteAccount.question"),a("UserPage.deleteAccount.yes"),a("UserPage.deleteAccount.no"),(function(){e(c.ZP.deleteAccount(t)).then((function(){console.log(ue),window.location.replace("".concat(ue,"register"))}))}),(function(){}),{messageFontSize:"20px",borderRadius:"8px",cssAnimationStyle:"zoom",okButtonColor:"#ffffff",okButtonBackground:"#eebb9c",cancelButtonColor:"#ffffff",cancelButtonBackground:"#F59256"})},children:[(0,_.jsx)("p",{className:de,children:a("UserPage.info.btn.deleteAccount")}),(0,_.jsx)(r.Z,{id:"icon-delete"})]})})}d.Z.defaults.baseURL="".concat(le,"/api");var _e=a(5973),pe=a(5578);var xe=function(){var e=(0,m.$G)().t;return(0,_.jsx)("div",{className:pe.Z.userPage_container,children:(0,_.jsxs)("div",{className:_e.Z.container,children:[(0,_.jsxs)("div",{className:pe.Z.userPage_section,children:[(0,_.jsxs)("h2",{className:pe.Z.userPage_title,children:[e("UserPage.info.title"),":"]}),(0,_.jsxs)("div",{className:pe.Z.userData_box,children:[(0,_.jsx)(Z,{}),(0,_.jsxs)("div",{className:pe.Z.userData_box_btn,children:[(0,_.jsx)(w,{}),(0,_.jsx)(me,{})]})]})]}),(0,_.jsx)("div",{className:pe.Z.petsData_section,children:(0,_.jsx)(re,{})})]})})}},2986:function(e,t){t.Z={petsData_section:"pets-data_petsData_section__UieBz",petsData_title_box:"pets-data_petsData_title_box__8HxHW",petsData_title:"pets-data_petsData_title__Qq4C7",addPetModal_buttonBox:"pets-data_addPetModal_buttonBox__HEU95",addPetModal_button:"pets-data_addPetModal_button__qP0Zy",petModal_button:"pets-data_petModal_button__sBu2c",petModal_box_btn:"pets-data_petModal_box_btn__IdO3N",petsData__container:"pets-data_petsData__container__2G1w-",overflow:"pets-data_overflow__Rtx7o"}},3205:function(e,t){t.Z={petsList_box:"pets-list_petsList_box__bIXg+",petsList_photo:"pets-list_petsList_photo__JyEpp",petsList_text_box:"pets-list_petsList_text_box__Vg0+q",labelPets:"pets-list_labelPets__xVmkl",petsList_field:"pets-list_petsList_field__+BhHE",petsList_button:"pets-list_petsList_button__QczPj",iconEdit_btn:"pets-list_iconEdit_btn__tEFOh",petList_container:"pets-list_petList_container__jrBD0",icon_edit:"pets-list_icon_edit__HNwQg"}},5830:function(e,t){t.Z={userItem_container:"user-data-item_userItem_container__neJio",userItem_box_yourPhoto:"user-data-item_userItem_box_yourPhoto__A6dWO",userItem_box_btnPhoto:"user-data-item_userItem_box_btnPhoto__e8bo1",userItem_button:"user-data-item_userItem_button__0Gg6V",userDataForm_box:"user-data-item_userDataForm_box__UwT0M",field_box:"user-data-item_field_box__4xcgt",field_box_email:"user-data-item_field_box_email__f0mAx",userDataForm_field:"user-data-item_userDataForm_field__32mZT",userDataForm_number:"user-data-item_userDataForm_number__bHZsY",inputNumber:"user-data-item_inputNumber__Z+xvT",userDataForm_field_active:"user-data-item_userDataForm_field_active__CXnHf",userDataForm_field_input:"user-data-item_userDataForm_field_input__1QaxO",iconEdit_btn:"user-data-item_iconEdit_btn__LP-z7",userDataForm_label:"user-data-item_userDataForm_label__oNaKJ",userItem_button_icon:"user-data-item_userItem_button_icon__rwvks",userItem_edit_photo:"user-data-item_userItem_edit_photo__55rGT",userItem_input_edit_photo:"user-data-item_userItem_input_edit_photo__LoxV3",userItem__yourPhoto:"user-data-item_userItem__yourPhoto__Xt9Av",iconEdit_active:"user-data-item_iconEdit_active__6fdvC",iconEdit:"user-data-item_iconEdit__qx3-w",iconEdit_done:"user-data-item_iconEdit_done__EvnCx",loader__content:"user-data-item_loader__content__SyicD",loader_oval:"user-data-item_loader_oval__YNlqW",loader_oval_avatar:"user-data-item_loader_oval_avatar__799eU",loaderAvatar:"user-data-item_loaderAvatar__K7kcp"}},5578:function(e,t){t.Z={userPage_container:"user-page_userPage_container__PYPVq",userPage_section:"user-page_userPage_section__+jTMM",petsData_section:"user-page_petsData_section__jEW1G",userPage_title:"user-page_userPage_title__bSasD",userData_box:"user-page_userData_box__sKupV",userData_box_btn:"user-page_userData_box_btn__ZDRDR"}}}]);
//# sourceMappingURL=636.9992a1c2.chunk.js.map